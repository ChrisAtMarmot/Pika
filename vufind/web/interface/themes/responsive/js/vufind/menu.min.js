VuFind.Menu=function(){$(function(){$(".menu-icon,.menu-bar-option").click(function(){$(".menu-icon,.menu-bar-option").removeClass("menu-icon-selected");$(this).addClass("menu-icon-selected")});VuFind.Menu.stickyMenu("#horizontal-menu-bar-container","sticky-menu-bar");VuFind.Menu.stickyMenu("#vertical-menu-bar","sticky-sidebar")});return{stickyMenu:function(menuContainerSelector,stickyMenuClass){var menu=$(menuContainerSelector),viewportHeight=$(window).height(),switchPosition;if(menu.is(":visible"))switchPosition=menu.offset().top;$(window).resize(function(){viewportHeight=$(window).height()});$(window).scroll(function(){if(menu.is(":visible")&&viewportHeight<$("#main-content-with-sidebar").height()){if(typeof switchPosition=="undefined"){switchPosition=menu.offset().top}var fixedOffset=menu.offset().top,notFixedScrolledPosition=$(this).scrollTop();if(menu.is("."+stickyMenuClass)&&fixedOffset<=switchPosition){menu.removeClass(stickyMenuClass)}if(!menu.is("."+stickyMenuClass)&&notFixedScrolledPosition>=switchPosition){menu.addClass(stickyMenuClass)}}})},hideAll:function(){return $("#home-page-search,#horizontal-search-container,#home-account-links,#home-page-library-section,#narrow-search-label,#facet-accordion").filter(":visible").slideUp()},showMenuSection:function(sectionSelector){$.when(this.hideAll()).done(function(){$(sectionSelector).slideDown()})},showSearch:function(){this.showMenuSection("#home-page-search,#horizontal-search-container,#narrow-search-label,#facet-accordion")},showMenu:function(){this.showMenuSection("#home-page-library-section")},showAccount:function(){this.showMenuSection("#home-account-links")}}}(VuFind.Menu||{});