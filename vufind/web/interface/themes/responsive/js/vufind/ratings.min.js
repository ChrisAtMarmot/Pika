VuFind.Ratings=function(){$(document).ready(function(){VuFind.Ratings.initializeRaters()});return{initializeRaters:function(){$(".rater").each(function(){var ratingElement=$(this),userRating=ratingElement.data("user_rating"),id=ratingElement.data("id"),options={id:id,rating:parseFloat(userRating>0?userRating:ratingElement.data("average_rating")),postHref:Globals.path+"GroupedWork/"+id+"/AJAX?method=RateTitle"};ratingElement.rater(options)})},doRatingReview:function(id){VuFind.showMessageWithButtons("Add a Review","Would you like to add a review explaining your rating to help other users?",'<span class="btn btn-primary" onclick="VuFind.GroupedWork.showReviewForm('+id+')">Add a Review</span>')}}}(VuFind.Ratings);